import{d as e,r as a,S as o,o as t,g as r,f as i,C as s,m as p,w as l,a3 as m,i as n,a4 as d,$ as u,e as j,h as c,aA as f}from"./index.5kUzvK8X.js";import{v as h}from"./loading.CwcUnkNB.js";import{E as b}from"./card.CsnpDJBA.js";import{_ as g}from"./index.DOQLdqMP.js";import{a as w,E as x}from"./table-column.Da5MBwLq.js";import"./checkbox.Bx3CDwyr.js";/* empty css                */import"./popper.DcV1tsLN.js";import"./scrollbar.CAnaVs16.js";/* empty css            */import{E as _,a as v}from"./form-item.Bg4eYzsU.js";/* empty css               */import{E as y}from"./date-picker-panel.-_VIbjsW.js";import{E as k}from"./input.Dzlr3yZk.js";import{L as N}from"./log-api.CdnQ4kn7.js";import{E}from"./index.CvgTKehI.js";import"./pagination.DK98pQAp.js";import"./select.B3ObJCNW.js";import"./index.CR9mYaTs.js";import"./use-form-common-props.DA7o-DK3.js";import"./token.DWNpOE8r.js";import"./strings.tgqpstpd.js";import"./error.D_Dr4eZ1.js";import"./castArray.GBZsOxhy.js";import"./index.Bgbioqa4.js";import"./aria.Cpd_B0tV.js";import"./event.BwRzfsZt.js";import"./scroll.nrJXfyFa.js";import"./debounce.BLwg3Db8.js";import"./toNumber.54VRWIph.js";import"./_baseIteratee.-LG535bZ.js";import"./index.3K1wjCUq.js";import"./index.B3H5R9TM.js";import"./vnode.Do5dNnog.js";import"./index.vxC3n4yE.js";import"./_plugin-vue_export-helper.BCo6x5W8.js";import"./_initCloneObject.JqTmhNo2.js";import"./raf.DHqQ_QM0.js";import"./index.Dr55iu1b.js";import"./index.C7qO8chq.js";import"./_baseClone.DIEYpB2e.js";import"./dayjs.min.By7zcmwg.js";import"./index.BkALyRin.js";import"./index.CHSZXyRW.js";const T={class:"app-container"},U={class:"search-container"},V=e({name:"Log",inheritAttrs:!1,__name:"index",setup(e){const V=a(),C=a(!1),P=a(0),z=o({pageNum:1,pageSize:10,keywords:"",createTime:["",""]}),A=a();function M(){C.value=!0,N.getPage(z).then(e=>{A.value=e.list,P.value=e.total}).finally(()=>{C.value=!1})}function S(){z.pageNum=1,M()}function Y(){V.value.resetFields(),z.pageNum=1,z.createTime=void 0,M()}return t(()=>{S()}),(e,a)=>{const o=k,t=_,N=y,F=E,I=v,L=x,q=w,D=g,K=b,O=h;return i(),r("div",T,[s("div",U,[p(I,{ref_key:"queryFormRef",ref:V,model:n(z),inline:!0},{default:l(()=>[p(t,{prop:"keywords",label:"关键字"},{default:l(()=>[p(o,{modelValue:n(z).keywords,"onUpdate:modelValue":a[0]||(a[0]=e=>n(z).keywords=e),placeholder:"日志内容",clearable:"",onKeyup:m(S,["enter"])},null,8,["modelValue"])]),_:1}),p(t,{prop:"createTime",label:"操作时间"},{default:l(()=>[p(N,{modelValue:n(z).createTime,"onUpdate:modelValue":a[1]||(a[1]=e=>n(z).createTime=e),editable:!1,type:"daterange","range-separator":"~","start-placeholder":"开始时间","end-placeholder":"截止时间","value-format":"YYYY-MM-DD",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),p(t,{class:"search-buttons"},{default:l(()=>[p(F,{type:"primary",icon:"search",onClick:S},{default:l(()=>[...a[5]||(a[5]=[d("搜索",-1)])]),_:1}),p(F,{icon:"refresh",onClick:Y},{default:l(()=>[...a[6]||(a[6]=[d("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),p(K,{shadow:"hover",class:"data-table"},{default:l(()=>[u((i(),j(q,{data:n(A),"highlight-current-row":"",border:"",class:"data-table__content"},{default:l(()=>[p(L,{label:"操作时间",prop:"createTime",width:"180"}),p(L,{label:"操作人",prop:"operator",width:"120"}),p(L,{label:"日志模块",prop:"module",width:"100"}),p(L,{label:"日志内容",prop:"content","min-width":"200"}),p(L,{label:"IP 地址",prop:"ip",width:"150"}),p(L,{label:"地区",prop:"region",width:"150"}),p(L,{label:"浏览器",prop:"browser",width:"150"}),p(L,{label:"终端系统",prop:"os",width:"200","show-overflow-tooltip":""}),p(L,{label:"执行时间(ms)",prop:"executionTime",width:"150"})]),_:1},8,["data"])),[[O,n(C)]]),n(P)>0?(i(),j(D,{key:0,total:n(P),"onUpdate:total":a[2]||(a[2]=e=>f(P)?P.value=e:null),page:n(z).pageNum,"onUpdate:page":a[3]||(a[3]=e=>n(z).pageNum=e),limit:n(z).pageSize,"onUpdate:limit":a[4]||(a[4]=e=>n(z).pageSize=e),onPagination:M},null,8,["total","page","limit"])):c("",!0)]),_:1})])}}});export{V as default};
