import{f as e}from"./vnode.BymF0sgh.js";import{s as t,d as n,ab as o,dt as r,o as s,be as a}from"./index.B9DDwXyn.js";const d=(d,l)=>{const i=t({}),u=t([]),p=new WeakMap,f=()=>{u.value=((t,n,o)=>e(t.subTree).filter(e=>{var t;return a(e)&&(null==(t=e.type)?void 0:t.name)===n&&!!e.component}).map(e=>e.component.uid).map(e=>o[e]).filter(e=>!!e))(d,l,i.value)},m=e=>e.render(),c=n({setup:(e,{slots:t})=>()=>(f(),t.default?o(m,{render:t.default}):null)});return{children:u,addChild:e=>{i.value[e.uid]=e,r(i),s(()=>{const t=e.getVnode().el,n=t.parentNode;if(!p.has(n)){p.set(n,[]);const e=n.insertBefore.bind(n);n.insertBefore=(t,o)=>(p.get(n).some(e=>t===e||o===e)&&r(i),e(t,o))}p.get(n).push(t)})},removeChild:e=>{delete i.value[e.uid],r(i);const t=e.getVnode().el,n=t.parentNode,o=p.get(n),s=o.indexOf(t);o.splice(s,1)},ChildrenSorter:c}};export{d as u};
