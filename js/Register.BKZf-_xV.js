import{d as e,aD as a,o as r,r as o,c as s,bc as l,ar as i,g as t,f as d,C as n,m as p,F as m,i as u,w as c,E as g,a3 as f,bd as _,e as h,az as w,a4 as x}from"./index.DRPoGZBk.js";import{E as j}from"./text.B0WblZFB.js";import{E as v,a as b}from"./form-item.BX728IAv.js";/* empty css               */import{E as y}from"./link.CM2ZuMlr.js";import{E as V}from"./checkbox.HknQRT7E.js";/* empty css                */import{E as C}from"./popper.BU17CZ-L.js";import{E as k}from"./input.CQ-26BBh.js";/* empty css                */import{E}from"./index.CATG-Bau.js";import{E as q}from"./index.CHumVb_u.js";import"./use-form-common-props.DsMPcFL7.js";import"./castArray.DubCdOyv.js";import"./error.D_Dr4eZ1.js";import"./_baseClone.CEh0Izpu.js";import"./_initCloneObject.CljjGAhF.js";import"./index.C88r2BaC.js";import"./index.F5OfedVa.js";import"./event.BwRzfsZt.js";import"./index.SISkM0HS.js";import"./aria.Cpd_B0tV.js";import"./index.YVQhVyFI.js";import"./typescript.CRqm1_SZ.js";import"./index.CQZWqeco.js";import"./index.cDg2wPYz.js";const K={"text-center":"","m-0":"","mb-20px":""},M={flex:""},U=["src"],P={class:"flex-y-center w-full gap-10px"},A={"flex-center":"","gap-10px":""},L=e({__name:"Register",emits:["update:modelValue"],setup(e,{emit:L}){const{t:z}=a(),R=L,B=()=>R("update:modelValue","login");r(()=>I());const D=o(),S=o(!1),F=o(!1),N=o(),O=o(!1),T=o({username:"admin",password:"123456",confirmPassword:"",captchaKey:"",captchaCode:"",rememberMe:!1}),G=s(()=>({username:[{required:!0,trigger:"blur",message:z("login.message.username.required")}],password:[{required:!0,trigger:"blur",message:z("login.message.password.required")},{min:6,message:z("login.message.password.min"),trigger:"blur"}],confirmPassword:[{required:!0,trigger:"blur",message:z("login.message.password.required")},{min:6,message:z("login.message.password.min"),trigger:"blur"},{validator:(e,a)=>a===T.value.password,trigger:"blur",message:z("login.message.password.inconformity")}],captchaCode:[{required:!0,trigger:"blur",message:z("login.message.captchaCode.required")}]})),H=o(!1);function I(){H.value=!0,l.getCaptcha().then(e=>{T.value.captchaKey=e.captchaKey,N.value=e.captchaBase64}).finally(()=>H.value=!1)}function J(e){e instanceof KeyboardEvent&&(F.value=e.getModifierState("CapsLock"))}const Q=async()=>{await(D.value?.validate()),q.warning("开发中 ...")};return(e,a)=>{const r=i("User"),o=g,s=k,l=v,q=C,L=i("Loading"),R=V,W=y,X=E,Y=b,Z=j;return d(),t("div",null,[n("h3",K,m(u(z)("login.reg")),1),p(Y,{ref_key:"formRef",ref:D,model:u(T),rules:u(G),size:"large"},{default:c(()=>[p(l,{prop:"username"},{default:c(()=>[p(s,{modelValue:u(T).username,"onUpdate:modelValue":a[0]||(a[0]=e=>u(T).username=e),modelModifiers:{trim:!0},placeholder:u(z)("login.username")},{prefix:c(()=>[p(o,null,{default:c(()=>[p(r)]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1}),p(q,{visible:u(F),content:u(z)("login.capsLock"),placement:"right"},{default:c(()=>[p(l,{prop:"password"},{default:c(()=>[p(s,{modelValue:u(T).password,"onUpdate:modelValue":a[1]||(a[1]=e=>u(T).password=e),modelModifiers:{trim:!0},placeholder:u(z)("login.password"),type:"password","show-password":"",onKeyup:[J,f(Q,["enter"])]},{prefix:c(()=>[p(o,null,{default:c(()=>[p(u(_))]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1})]),_:1},8,["visible","content"]),p(q,{visible:u(F),content:u(z)("login.capsLock"),placement:"right"},{default:c(()=>[p(l,{prop:"confirmPassword"},{default:c(()=>[p(s,{modelValue:u(T).confirmPassword,"onUpdate:modelValue":a[2]||(a[2]=e=>u(T).confirmPassword=e),modelModifiers:{trim:!0},placeholder:u(z)("login.message.password.confirm"),type:"password","show-password":"",onKeyup:[J,f(Q,["enter"])]},{prefix:c(()=>[p(o,null,{default:c(()=>[p(u(_))]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1})]),_:1},8,["visible","content"]),p(l,{prop:"captchaCode"},{default:c(()=>[n("div",M,[p(s,{modelValue:u(T).captchaCode,"onUpdate:modelValue":a[3]||(a[3]=e=>u(T).captchaCode=e),modelModifiers:{trim:!0},placeholder:u(z)("login.captchaCode"),onKeyup:f(Q,["enter"])},{prefix:c(()=>[...a[5]||(a[5]=[n("div",{class:"i-svg:captcha"},null,-1)])]),_:1},8,["modelValue","placeholder"]),n("div",{"cursor-pointer":"",h:"[40px]",w:"[120px]","flex-center":"","ml-10px":"",onClick:I},[u(H)?(d(),h(o,{key:0,class:"is-loading"},{default:c(()=>[p(L)]),_:1})):(d(),t("img",{key:1,"object-cover":"","border-rd-4px":"","p-1px":"",shadow:"[0_0_0_1px_var(--el-border-color)_inset]",src:u(N),alt:"code"},null,8,U))])])]),_:1}),p(l,null,{default:c(()=>[n("div",P,[p(R,{modelValue:u(O),"onUpdate:modelValue":a[4]||(a[4]=e=>w(O)?O.value=e:null)},{default:c(()=>[x(m(u(z)("login.agree")),1)]),_:1},8,["modelValue"]),p(W,{type:"primary",underline:"never"},{default:c(()=>[x(m(u(z)("login.userAgreement")),1)]),_:1})])]),_:1}),p(l,null,{default:c(()=>[p(X,{loading:u(S),type:"success",class:"w-full",onClick:Q},{default:c(()=>[x(m(u(z)("login.register")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"]),n("div",A,[p(Z,{size:"default"},{default:c(()=>[x(m(u(z)("login.haveAccount")),1)]),_:1}),p(W,{type:"primary",underline:"never",onClick:B},{default:c(()=>[x(m(u(z)("login.login")),1)]),_:1})])])}}});export{L as default};
