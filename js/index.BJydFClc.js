import{t as e,z as s,_ as t,d as a,b as o,c as n,a$ as l,J as r,g as u,f as i,l as p,m as d,w as c,$ as m,C as f,k as g,i as y,n as v,a4 as b,F as h,a1 as C,T as x,q as S,H as w,v as B,cf as T,r as $,cg as N,ch as _,o as k,I as L,u as E,af as I,e as M,h as z,E as H,D as j,P as A,j as D,ci as U,ac as O,U as Z,K as F,L as R,cj as q,M as P,be as J,bw as K,ck as W,b$ as G,bB as Q,O as V,cl as X}from"./index.B9DDwXyn.js";import{m as Y}from"./typescript.CRqm1_SZ.js";const ee=e({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:s([String,Object,Array])},offset:{type:s(Array),default:[0,0]},badgeClass:{type:String}}),se=a({name:"ElBadge"});const te=S(t(a({...se,props:ee,setup(e,{expose:s}){const t=e,a=o("badge"),S=n(()=>t.isDot?"":l(t.value)&&l(t.max)&&t.max<t.value?`${t.max}+`:`${t.value}`),w=n(()=>{var e,s,a,o,n;return[{backgroundColor:t.color,marginRight:r(-(null!=(s=null==(e=t.offset)?void 0:e[0])?s:0)),marginTop:r(null!=(o=null==(a=t.offset)?void 0:a[1])?o:0)},null!=(n=t.badgeStyle)?n:{}]});return s({content:S}),(e,s)=>(i(),u("div",{class:v(y(a).b())},[p(e.$slots,"default"),d(x,{name:`${y(a).namespace.value}-zoom-in-center`,persisted:""},{default:c(()=>[m(f("sup",{class:v([y(a).e("content"),y(a).em("content",e.type),y(a).is("fixed",!!e.$slots.default),y(a).is("dot",e.isDot),y(a).is("hide-zero",!e.showZero&&0===t.value),e.badgeClass]),style:g(y(w))},[p(e.$slots,"content",{value:y(S)},()=>[b(h(y(S)),1)])],6),[[C,!e.hidden&&(y(S)||e.isDot||e.$slots.content)]])]),_:3},8,["name"])],2))}}),[["__file","badge.vue"]])),ae=["primary","success","info","warning","error"],oe=["top","top-left","top-right","bottom","bottom-left","bottom-right"],ne="top",le=Y({customClass:"",dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,placement:void 0,zIndex:0,grouping:!1,repeatNum:1,appendTo:w?document.body:void 0}),re=e({customClass:{type:String,default:le.customClass},dangerouslyUseHTMLString:{type:Boolean,default:le.dangerouslyUseHTMLString},duration:{type:Number,default:le.duration},icon:{type:B,default:le.icon},id:{type:String,default:le.id},message:{type:s([String,Object,Function]),default:le.message},onClose:{type:s(Function),default:le.onClose},showClose:{type:Boolean,default:le.showClose},type:{type:String,values:ae,default:le.type},plain:{type:Boolean,default:le.plain},offset:{type:Number,default:le.offset},placement:{type:String,values:oe,default:le.placement},zIndex:{type:Number,default:le.zIndex},grouping:{type:Boolean,default:le.grouping},repeatNum:{type:Number,default:le.repeatNum}}),ue=T({}),ie=(e,s)=>{const{prev:t}=((e,s)=>{const t=ue[s]||[],a=t.findIndex(s=>s.id===e),o=t[a];let n;return a>0&&(n=t[a-1]),{current:o,prev:n}})(e,s);return t?t.vm.exposed.bottom.value:0},pe=a({name:"ElMessage"});var de=t(a({...pe,props:re,emits:{destroy:()=>!0},setup(e,{expose:s,emit:t}){const a=e,{Close:o}=U,l=$(!1),{ns:r,zIndex:b}=N("message"),{currentZIndex:S,nextZIndex:w}=b,B=$(),T=$(!1),q=$(0);let P;const J=n(()=>a.type?"error"===a.type?"danger":a.type:"info"),K=n(()=>{const e=a.type;return{[r.bm("icon",e)]:e&&_[e]}}),W=n(()=>a.icon||_[a.type]||""),G=n(()=>a.placement||ne),Q=n(()=>ie(a.id,G.value)),V=n(()=>((e,s,t)=>(ue[t]||[]).findIndex(s=>s.id===e)>0?16:s)(a.id,a.offset,G.value)+Q.value),X=n(()=>q.value+V.value),Y=n(()=>G.value.includes("left")?r.is("left"):G.value.includes("right")?r.is("right"):r.is("center")),ee=n(()=>G.value.startsWith("top")?"top":"bottom"),se=n(()=>({[ee.value]:`${V.value}px`,zIndex:S.value}));function ae(){0!==a.duration&&({stop:P}=O(()=>{le()},a.duration))}function oe(){null==P||P()}function le(){T.value=!1,Z(()=>{var e;l.value||(null==(e=a.onClose)||e.call(a),t("destroy"))})}return k(()=>{ae(),w(),T.value=!0}),L(()=>a.repeatNum,()=>{oe(),ae()}),E(document,"keydown",function(e){F(e)===R.esc&&le()}),I(B,()=>{q.value=B.value.getBoundingClientRect().height}),s({visible:T,bottom:X,close:le}),(e,s)=>(i(),M(x,{name:y(r).b("fade"),onBeforeEnter:e=>l.value=!0,onBeforeLeave:e.onClose,onAfterLeave:s=>e.$emit("destroy"),persisted:""},{default:c(()=>[m(f("div",{id:e.id,ref_key:"messageRef",ref:B,class:v([y(r).b(),{[y(r).m(e.type)]:e.type},y(r).is("closable",e.showClose),y(r).is("plain",e.plain),y(r).is("bottom","bottom"===y(ee)),y(Y),e.customClass]),style:g(y(se)),role:"alert",onMouseenter:oe,onMouseleave:ae},[e.repeatNum>1?(i(),M(y(te),{key:0,value:e.repeatNum,type:y(J),class:v(y(r).e("badge"))},null,8,["value","type","class"])):z("v-if",!0),y(W)?(i(),M(y(H),{key:1,class:v([y(r).e("icon"),y(K)])},{default:c(()=>[(i(),M(j(y(W))))]),_:1},8,["class"])):z("v-if",!0),p(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(i(),u(A,{key:1},[z(" Caution here, message could've been compromised, never use user's input as message "),f("p",{class:v(y(r).e("content")),innerHTML:e.message},null,10,["innerHTML"])],2112)):(i(),u("p",{key:0,class:v(y(r).e("content"))},h(e.message),3))]),e.showClose?(i(),M(y(H),{key:2,class:v(y(r).e("closeBtn")),onClick:D(le,["stop"])},{default:c(()=>[d(y(o))]),_:1},8,["class","onClick"])):z("v-if",!0)],46,["id"]),[[C,T.value]])]),_:3},8,["name","onBeforeEnter","onBeforeLeave","onAfterLeave"]))}}),[["__file","message.vue"]]);let ce=1;const me=e=>{const s=!e||P(e)||J(e)||K(e)?{message:e}:e,t={...le,...s};return(e=>{if(e.appendTo){if(P(e.appendTo)){let s=document.querySelector(e.appendTo);G(s)||(s=document.body),e.appendTo=s}}else e.appendTo=document.body})(t),(e=>{!e.placement&&P(q.placement)&&q.placement&&(e.placement=q.placement),e.placement||(e.placement=ne),oe.includes(e.placement)||(e.placement=ne)})(t),Q(q.grouping)&&!t.grouping&&(t.grouping=q.grouping),l(q.duration)&&3e3===t.duration&&(t.duration=q.duration),l(q.offset)&&16===t.offset&&(t.offset=q.offset),Q(q.showClose)&&!t.showClose&&(t.showClose=q.showClose),Q(q.plain)&&!t.plain&&(t.plain=q.plain),t},fe=({appendTo:e,...s},t)=>{const a="message_"+ce++,o=s.onClose,n=document.createElement("div"),l={...s,id:a,onClose:()=>{null==o||o(),(e=>{const s=e.props.placement||ne,t=ue[s],a=t.indexOf(e);if(-1===a)return;t.splice(a,1);const{handler:o}=e;o.close()})(p)},onDestroy:()=>{W(null,n)}},r=d(de,l,K(l.message)||J(l.message)?{default:K(l.message)?l.message:()=>l.message}:null);r.appContext=t||ge._context,W(r,n),e.appendChild(n.firstElementChild);const u=r.component,i={close:()=>{u.exposed.close()}},p={id:a,vnode:r,vm:u,handler:i,props:r.component.props};return p},ge=(e={},s)=>{if(!w)return{close:()=>{}};const t=me(e),a=(o=t.placement||ne,ue[o]||(ue[o]=T([])),ue[o]);var o;if(t.grouping&&a.length){const e=a.find(({vnode:e})=>{var s;return(null==(s=e.props)?void 0:s.message)===t.message});if(e)return e.props.repeatNum+=1,e.props.type=t.type,e.handler}if(l(q.max)&&a.length>=q.max)return{close:()=>{}};const n=fe(t,s);return a.push(n),n.handler};ae.forEach(e=>{ge[e]=(s={},t)=>{const a=me(s);return ge({...a,type:e},t)}}),ge.closeAll=function(e){for(const s in ue)if(V(ue,s)){const t=[...ue[s]];for(const s of t)e&&e!==s.props.type||s.handler.close()}},ge.closeAllByPlacement=function(e){if(!ue[e])return;[...ue[e]].forEach(e=>e.handler.close())},ge._context=null;const ye=X(ge,"$message");export{ye as E,te as a};
