import{d as e,r as t,S as o,o as a,g as r,f as i,C as s,m as p,w as l,a3 as m,i as n,a4 as d,$ as u,e as j,h as c,az as f}from"./index.B9DDwXyn.js";import{v as h}from"./loading.DgVxatZq.js";import{E as g}from"./card.BXy-Ncik.js";import{_ as b}from"./index.DgXs3aUv.js";import{a as w,E as _}from"./table-column.HahAEEQU.js";import"./checkbox.PfgpXjIm.js";/* empty css                */import"./popper.tjIFXnGm.js";import"./scrollbar.Bhy-xkQk.js";/* empty css            */import{E as x,a as v}from"./form-item.D3h4sxEF.js";/* empty css               */import{E as y}from"./date-picker-panel.B9Rryhb6.js";import{E as k}from"./input.h3oSW7Fu.js";import{L as T}from"./log-api.QTfJIIJ7.js";import{E}from"./index.C4LHJRvW.js";import"./pagination.BAmVJ6nm.js";import"./select.DXDT8lei.js";import"./index.FlroawDi.js";import"./use-form-common-props.Cfh8sL7v.js";import"./token.DWNpOE8r.js";import"./strings.DxzcQhMs.js";import"./error.D_Dr4eZ1.js";import"./castArray.CurgOZrE.js";import"./index.-MvgtnPj.js";import"./aria.Cpd_B0tV.js";import"./event.BwRzfsZt.js";import"./scroll.iVt-7v8H.js";import"./debounce.DpZxVawV.js";import"./toNumber.BgQEYUe1.js";import"./_baseIteratee.D7y0cmdm.js";import"./index.DBPJmu1s.js";import"./index.Csx3iWGu.js";import"./vnode.BymF0sgh.js";import"./typescript.CRqm1_SZ.js";import"./index.BpkllUJ0.js";import"./_plugin-vue_export-helper.BCo6x5W8.js";import"./_initCloneObject.G0Dih7LI.js";import"./raf.BPqLmvY8.js";import"./index.DI7Lq47c.js";import"./index.C8Gfv6TL.js";import"./_baseClone.O-Y6IxeR.js";import"./dayjs.min.GNs_YU_p.js";import"./index.Cxq1v0nf.js";import"./index.CMoYSvzR.js";const N={class:"app-container"},V={class:"search-container"},C=e({name:"Log",inheritAttrs:!1,__name:"Index",setup(e){const C=t(),Y=t(!1),S=t(0),U=o({pageNum:1,pageSize:10,keywords:"",createTime:["",""]}),z=t();function A(){Y.value=!0,T.getPage(U).then(e=>{z.value=e.list,S.value=e.total}).finally(()=>{Y.value=!1})}function D(){U.pageNum=1,A()}function F(){C.value.resetFields(),U.pageNum=1,U.createTime=void 0,A()}return a(()=>{D()}),(e,t)=>{const o=k,a=x,T=y,I=E,L=v,M=_,P=w,K=b,R=g,X=h;return i(),r("div",N,[s("div",V,[p(L,{ref_key:"queryFormRef",ref:C,model:n(U),inline:!0},{default:l(()=>[p(a,{prop:"keywords",label:"关键字"},{default:l(()=>[p(o,{modelValue:n(U).keywords,"onUpdate:modelValue":t[0]||(t[0]=e=>n(U).keywords=e),placeholder:"日志内容",clearable:"",onKeyup:m(D,["enter"])},null,8,["modelValue"])]),_:1}),p(a,{prop:"createTime",label:"操作时间"},{default:l(()=>[p(T,{modelValue:n(U).createTime,"onUpdate:modelValue":t[1]||(t[1]=e=>n(U).createTime=e),editable:!1,type:"daterange","range-separator":"~","start-placeholder":"开始时间","end-placeholder":"截止时间","value-format":"YYYY-MM-DD",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),p(a,{class:"search-buttons"},{default:l(()=>[p(I,{type:"primary",icon:"search",onClick:D},{default:l(()=>[...t[5]||(t[5]=[d("搜索",-1)])]),_:1}),p(I,{icon:"refresh",onClick:F},{default:l(()=>[...t[6]||(t[6]=[d("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),p(R,{shadow:"hover",class:"data-table"},{default:l(()=>[u((i(),j(P,{data:n(z),"highlight-current-row":"",border:"",class:"data-table__content"},{default:l(()=>[p(M,{label:"操作时间",prop:"createTime",width:"180"}),p(M,{label:"操作人",prop:"operator",width:"120"}),p(M,{label:"日志模块",prop:"module",width:"100"}),p(M,{label:"日志内容",prop:"content","min-width":"200"}),p(M,{label:"IP 地址",prop:"ip",width:"150"}),p(M,{label:"地区",prop:"region",width:"150"}),p(M,{label:"浏览器",prop:"browser",width:"150"}),p(M,{label:"终端系统",prop:"os",width:"200","show-overflow-tooltip":""}),p(M,{label:"执行时间(ms)",prop:"executionTime",width:"150"})]),_:1},8,["data"])),[[X,n(Y)]]),n(S)>0?(i(),j(K,{key:0,total:n(S),"onUpdate:total":t[2]||(t[2]=e=>f(S)?S.value=e:null),page:n(U).pageNum,"onUpdate:page":t[3]||(t[3]=e=>n(U).pageNum=e),limit:n(U).pageSize,"onUpdate:limit":t[4]||(t[4]=e=>n(U).pageSize=e),onPagination:A},null,8,["total","page","limit"])):c("",!0)]),_:1})])}}});export{C as default};
