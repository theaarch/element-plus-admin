import{M as e,b2 as l,bE as a,W as u,A as o,c as t,a9 as n,B as s,I as i,U as d,r,ad as c,aj as v,ae as b,az as m,bA as p,_ as h,d as f,bC as k,b as x,e as g,f as C,w as L,C as y,g as V,h as B,n as S,i as I,$ as E,Z as F,aA as z,j,cQ as N,l as w,P as D,a4 as O,F as U,D as _,k as G,t as $,z as A,y as R,aP as P,Q as q,G as M,q as Q}from"./index.YaGZZd36.js";import{u as K,p as W}from"./index.BcXLSode.js";import{U as Z,C as H}from"./event.BwRzfsZt.js";import{u as J,a as T,b as X,c as Y}from"./use-form-common-props.Dd8v670B.js";import{d as ee}from"./error.D_Dr4eZ1.js";import{u as le}from"./index.CUczBRse.js";const ae={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:u,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...K(["ariaControls"])},ue={[Z]:u=>e(u)||l(u)||a(u),change:u=>e(u)||l(u)||a(u)},oe=Symbol("checkboxGroupContextKey"),te=(e,{model:l,isLimitExceeded:a,hasOwnLabel:u,isDisabled:n,isLabeledByFormItem:r})=>{const c=o(oe,void 0),{formItem:v}=T(),{emit:b}=s();function m(l){var a,u,o,t;return[!0,e.trueValue,e.trueLabel].includes(l)?null==(u=null!=(a=e.trueValue)?a:e.trueLabel)||u:null!=(t=null!=(o=e.falseValue)?o:e.falseLabel)&&t}const p=t(()=>(null==c?void 0:c.validateEvent)||e.validateEvent);return i(()=>e.modelValue,()=>{p.value&&(null==v||v.validate("change").catch(e=>ee()))}),{handleChange:function(e){if(a.value)return;const l=e.target;b(H,m(l.checked),e)},onClickRoot:async function(o){if(!a.value&&!u.value&&!n.value&&r.value){o.composedPath().some(e=>"LABEL"===e.tagName)||(l.value=m([!1,e.falseValue,e.falseLabel].includes(l.value)),await d(),function(e,l){b(H,m(e),l)}(l.value,o))}}}},ne=(e,l)=>{const{formItem:u}=T(),{model:i,isGroup:d,isLimitExceeded:h}=(e=>{const l=r(!1),{emit:a}=s(),u=o(oe,void 0),i=t(()=>!1===n(u)),d=r(!1),v=t({get(){var a,o;return i.value?null==(a=null==u?void 0:u.modelValue)?void 0:a.value:null!=(o=e.modelValue)?o:l.value},set(e){var o,t;i.value&&c(e)?(d.value=void 0!==(null==(o=null==u?void 0:u.max)?void 0:o.value)&&e.length>(null==u?void 0:u.max.value)&&e.length>v.value.length,!1===d.value&&(null==(t=null==u?void 0:u.changeEvent)||t.call(u,e))):(a(Z,e),l.value=e)}});return{model:v,isGroup:i,isLimitExceeded:d}})(e),{isFocused:f,isChecked:k,checkboxButtonSize:x,checkboxSize:g,hasOwnLabel:C,actualValue:L}=((e,l,{model:u})=>{const n=o(oe,void 0),s=r(!1),i=t(()=>v(e.value)?e.label:e.value),d=t(()=>{const l=u.value;return a(l)?l:c(l)?b(i.value)?l.map(m).some(e=>p(e,i.value)):l.map(m).includes(i.value):null!=l?l===e.trueValue||l===e.trueLabel:!!l});return{checkboxButtonSize:X(t(()=>{var e;return null==(e=null==n?void 0:n.size)?void 0:e.value}),{prop:!0}),isChecked:d,isFocused:s,checkboxSize:X(t(()=>{var e;return null==(e=null==n?void 0:n.size)?void 0:e.value})),hasOwnLabel:t(()=>!!l.default||!v(i.value)),actualValue:i}})(e,l,{model:i}),{isDisabled:y}=(({model:e,isChecked:l})=>{const a=o(oe,void 0),u=t(()=>{var u,o;const t=null==(u=null==a?void 0:a.max)?void 0:u.value,s=null==(o=null==a?void 0:a.min)?void 0:o.value;return!n(t)&&e.value.length>=t&&!l.value||!n(s)&&e.value.length<=s&&l.value});return{isDisabled:J(t(()=>(null==a?void 0:a.disabled.value)||u.value)),isLimitDisabled:u}})({model:i,isChecked:k}),{inputId:V,isLabeledByFormItem:B}=Y(e,{formItemContext:u,disableIdGeneration:C,disableIdManagement:d}),{handleChange:S,onClickRoot:I}=te(e,{model:i,isLimitExceeded:h,hasOwnLabel:C,isDisabled:y,isLabeledByFormItem:B});var E,F;return e.checked&&(c(i.value)&&!i.value.includes(L.value)?i.value.push(L.value):i.value=null==(F=null!=(E=e.trueValue)?E:e.trueLabel)||F),le({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},t(()=>d.value&&v(e.value))),le({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},t(()=>!!e.trueLabel)),le({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},t(()=>!!e.falseLabel)),{inputId:V,isLabeledByFormItem:B,isChecked:k,isDisabled:y,isFocused:f,checkboxButtonSize:x,checkboxSize:g,hasOwnLabel:C,model:i,actualValue:L,handleChange:S,onClickRoot:I}},se=f({name:"ElCheckbox"});var ie=h(f({...se,props:ae,emits:ue,setup(e){const l=e,a=k(),{inputId:u,isLabeledByFormItem:o,isChecked:n,isDisabled:s,isFocused:i,checkboxSize:d,hasOwnLabel:r,model:c,actualValue:v,handleChange:b,onClickRoot:m}=ne(l,a),p=t(()=>{var e,a,u,o;return l.trueValue||l.falseValue||l.trueLabel||l.falseLabel?{"true-value":null==(a=null!=(e=l.trueValue)?e:l.trueLabel)||a,"false-value":null!=(o=null!=(u=l.falseValue)?u:l.falseLabel)&&o}:{value:v.value}}),h=x("checkbox"),f=t(()=>[h.b(),h.m(d.value),h.is("disabled",s.value),h.is("bordered",l.border),h.is("checked",n.value)]),G=t(()=>[h.e("input"),h.is("disabled",s.value),h.is("checked",n.value),h.is("indeterminate",l.indeterminate),h.is("focus",i.value)]);return(e,l)=>(C(),g(_(!I(r)&&I(o)?"span":"label"),{class:S(I(f)),"aria-controls":e.indeterminate?e.ariaControls:null,onClick:I(m)},{default:L(()=>[y("span",{class:S(I(G))},[E(y("input",F({id:I(u),"onUpdate:modelValue":e=>z(c)?c.value=e:null,class:I(h).e("original"),type:"checkbox",indeterminate:e.indeterminate,name:e.name,tabindex:e.tabindex,disabled:I(s)},I(p),{onChange:I(b),onFocus:e=>i.value=!0,onBlur:e=>i.value=!1,onClick:j(()=>{},["stop"])}),null,16,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","onChange","onFocus","onBlur","onClick"]),[[N,I(c)]]),y("span",{class:S(I(h).e("inner"))},null,2)],2),I(r)?(C(),V("span",{key:0,class:S(I(h).e("label"))},[w(e.$slots,"default"),e.$slots.default?B("v-if",!0):(C(),V(D,{key:0},[O(U(e.label),1)],64))],2)):B("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}}),[["__file","checkbox.vue"]]);const de=f({name:"ElCheckboxButton"});var re=h(f({...de,props:ae,emits:ue,setup(e){const l=e,a=k(),{isFocused:u,isChecked:n,isDisabled:s,checkboxButtonSize:i,model:d,actualValue:r,handleChange:c}=ne(l,a),v=t(()=>{var e,a,u,o;return l.trueValue||l.falseValue||l.trueLabel||l.falseLabel?{"true-value":null==(a=null!=(e=l.trueValue)?e:l.trueLabel)||a,"false-value":null!=(o=null!=(u=l.falseValue)?u:l.falseLabel)&&o}:{value:r.value}}),b=o(oe,void 0),m=x("checkbox"),p=t(()=>{var e,l,a,u;const o=null!=(l=null==(e=null==b?void 0:b.fill)?void 0:e.value)?l:"";return{backgroundColor:o,borderColor:o,color:null!=(u=null==(a=null==b?void 0:b.textColor)?void 0:a.value)?u:"",boxShadow:o?`-1px 0 0 0 ${o}`:void 0}}),h=t(()=>[m.b("button"),m.bm("button",i.value),m.is("disabled",s.value),m.is("checked",n.value),m.is("focus",u.value)]);return(e,l)=>(C(),V("label",{class:S(I(h))},[E(y("input",F({"onUpdate:modelValue":e=>z(d)?d.value=e:null,class:I(m).be("button","original"),type:"checkbox",name:e.name,tabindex:e.tabindex,disabled:I(s)},I(v),{onChange:I(c),onFocus:e=>u.value=!0,onBlur:e=>u.value=!1,onClick:j(()=>{},["stop"])}),null,16,["onUpdate:modelValue","name","tabindex","disabled","onChange","onFocus","onBlur","onClick"]),[[N,I(d)]]),e.$slots.default||e.label?(C(),V("span",{key:0,class:S(I(m).be("button","inner")),style:G(I(n)?I(p):void 0)},[w(e.$slots,"default",{},()=>[O(U(e.label),1)])],6)):B("v-if",!0)],2))}}),[["__file","checkbox-button.vue"]]);const ce=$({modelValue:{type:A(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:u,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},options:{type:A(Array)},props:{type:A(Object),default:()=>be},...K(["ariaLabel"])}),ve={[Z]:e=>c(e),change:e=>c(e)},be={label:"label",value:"value",disabled:"disabled"},me=f({name:"ElCheckboxGroup"});var pe=h(f({...me,props:ce,emits:ve,setup(e,{emit:l}){const a=e,u=x("checkbox"),{formItem:o}=T(),{inputId:n,isLabeledByFormItem:s}=Y(a,{formItemContext:o}),r=async e=>{l(Z,e),await d(),l(H,e)},c=t({get:()=>a.modelValue,set(e){r(e)}}),v=t(()=>({...be,...a.props}));return R(oe,{...W(P(a),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:c,changeEvent:r}),i(()=>a.modelValue,(e,l)=>{a.validateEvent&&!p(e,l)&&(null==o||o.validate("change").catch(e=>ee()))}),(e,l)=>{var t;return C(),g(_(e.tag),{id:I(n),class:S(I(u).b("group")),role:"group","aria-label":I(s)?void 0:e.ariaLabel||"checkbox-group","aria-labelledby":I(s)?null==(t=I(o))?void 0:t.labelId:void 0},{default:L(()=>[w(e.$slots,"default",{},()=>[(C(!0),V(D,null,q(a.options,(e,l)=>(C(),g(ie,F({key:l},(e=>{const l={label:e[v.value.label],value:e[v.value.value],disabled:e[v.value.disabled]};return{...e,...l}})(e)),null,16))),128))])]),_:3},8,["id","class","aria-label","aria-labelledby"])}}}),[["__file","checkbox-group.vue"]]);const he=Q(ie,{CheckboxButton:re,CheckboxGroup:pe}),fe=M(re),ke=M(pe);export{he as E,ke as a,fe as b};
