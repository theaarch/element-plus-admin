import{d as e,r as a,dL as l,R as t,ax as o,as as s,e as r,f as d,w as n,m as i,i as u,aA as p,E as m}from"./index.CYcHE_Mv.js";import{E as c}from"./card.B00TZoN0.js";import{E as f}from"./tree.TSrcHNOB.js";import"./checkbox.BRApK4FF.js";import"./text.BuTAVBHl.js";import{E as h}from"./input.FxuyTccQ.js";import{D as x}from"./dept-api.CX-ukBHo.js";const v=e({__name:"DeptTree",props:{modelValue:{type:[String,Number],default:void 0}},emits:["node-click"],setup(e,{emit:v}){const b=e,j=a(),_=a(),k=a(),V=v,E=l(b,"modelValue",V);function g(e,a){return!e||-1!==a.label.indexOf(e)}function w(e){E.value=e.value,V("node-click")}return t(()=>{_.value.filter(k.value)},{flush:"post"}),o(()=>{x.getOptions().then(e=>{const a=e.data;j.value=a})}),(e,a)=>{const l=s("Search"),t=m,o=h,x=f,v=c;return d(),r(v,{shadow:"never"},{default:n(()=>[i(o,{modelValue:u(k),"onUpdate:modelValue":a[0]||(a[0]=e=>p(k)?k.value=e:null),placeholder:"部门名称",clearable:""},{prefix:n(()=>[i(t,null,{default:n(()=>[i(l)]),_:1})]),_:1},8,["modelValue"]),i(x,{ref_key:"deptTreeRef",ref:_,class:"mt-2",data:u(j),props:{children:"children",label:"label",disabled:""},"expand-on-click-node":!1,"filter-node-method":g,"default-expand-all":"",onNodeClick:w},null,8,["data"])]),_:1})}}});export{v as _};
