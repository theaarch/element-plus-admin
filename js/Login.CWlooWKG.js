import{d as e,aD as r,aG as a,ao as l,r as s,bb as o,c as i,ar as t,g as n,f as d,C as m,m as p,F as u,i as c,w as g,E as f,a3 as v,a4 as x,ax as _}from"./index.B9DDwXyn.js";import{E as j}from"./text.dsXhSvF4.js";import{E as w,a as b}from"./form-item.D3h4sxEF.js";/* empty css               */import{E as h}from"./link.BNbwefWQ.js";import{E as y}from"./checkbox.PfgpXjIm.js";/* empty css                */import{E as C}from"./popper.tjIFXnGm.js";import{E as V}from"./input.h3oSW7Fu.js";import{C as k}from"./index.CbdOWTfU.js";import{E}from"./index.C4LHJRvW.js";import{_ as q}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./use-form-common-props.Cfh8sL7v.js";import"./castArray.CurgOZrE.js";import"./error.D_Dr4eZ1.js";import"./_baseClone.O-Y6IxeR.js";import"./_initCloneObject.G0Dih7LI.js";import"./index.BpkllUJ0.js";import"./index.DBPJmu1s.js";import"./event.BwRzfsZt.js";import"./index.DI7Lq47c.js";import"./aria.Cpd_B0tV.js";import"./index.C8Gfv6TL.js";import"./typescript.CRqm1_SZ.js";import"./index.CMoYSvzR.js";import"./index.-MvgtnPj.js";const M={"text-center":"","m-0":"","mb-20px":""},L={class:"flex-x-between w-full"},U={"flex-center":"","gap-10px":""},R={class:"third-party-login"},A={class:"divider-container"},z={class:"divider-text"},D={class:"flex-center gap-x-5 w-full text-[var(--el-text-color-secondary)]"},F=q(e({__name:"Login",emits:["update:modelValue"],setup(e,{emit:q}){const{t:F}=r(),I=a(),K=l(),P=s(),S=s(!1),B=s(!1),G=o.getRememberMe(),H=s({email:"demo@example.com",password:"password",remember_me:G}),N=i(()=>({username:[{required:!0,trigger:"blur",message:F("login.message.username.required")}],password:[{required:!0,trigger:"blur",message:F("login.message.password.required")},{min:6,message:F("login.message.password.min"),trigger:"blur"}],captchaCode:[{required:!0,trigger:"blur",message:F("login.message.captchaCode.required")}]}));async function O(){try{if(!(await(P.value?.validate())))return;S.value=!0,await I.login(H.value);const e=K.query.redirect||"/";await _.push(decodeURIComponent(e))}catch(e){}finally{S.value=!1}}function T(e){e instanceof KeyboardEvent&&(B.value=e.getModifierState("CapsLock"))}const Y=q;function J(e){Y("update:modelValue",e)}return(e,r)=>{const a=t("User"),l=f,s=V,o=w,i=t("Lock"),_=C,q=y,I=h,K=E,G=b,Y=j;return d(),n("div",null,[m("h3",M,u(c(F)("login.login")),1),p(G,{ref_key:"loginFormRef",ref:P,model:c(H),rules:c(N),size:"large","validate-on-rule-change":!1},{default:g(()=>[p(o,{prop:"email"},{default:g(()=>[p(s,{modelValue:c(H).email,"onUpdate:modelValue":r[0]||(r[0]=e=>c(H).email=e),modelModifiers:{trim:!0},placeholder:c(F)("login.email")},{prefix:g(()=>[p(l,null,{default:g(()=>[p(a)]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1}),p(_,{visible:c(B),content:c(F)("login.capsLock"),placement:"right"},{default:g(()=>[p(o,{prop:"password"},{default:g(()=>[p(s,{modelValue:c(H).password,"onUpdate:modelValue":r[1]||(r[1]=e=>c(H).password=e),modelModifiers:{trim:!0},placeholder:c(F)("login.password"),type:"password","show-password":"",onKeyup:[T,v(O,["enter"])]},{prefix:g(()=>[p(l,null,{default:g(()=>[p(i)]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1})]),_:1},8,["visible","content"]),m("div",L,[p(q,{modelValue:c(H).rememberMe,"onUpdate:modelValue":r[2]||(r[2]=e=>c(H).rememberMe=e)},{default:g(()=>[x(u(c(F)("login.rememberMe")),1)]),_:1},8,["modelValue"]),p(I,{type:"primary",underline:"never",onClick:r[3]||(r[3]=e=>J("resetPwd"))},{default:g(()=>[x(u(c(F)("login.forgetPassword")),1)]),_:1})]),p(o,null,{default:g(()=>[p(K,{loading:c(S),type:"primary",class:"w-full",onClick:O},{default:g(()=>[x(u(c(F)("login.login")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"]),m("div",U,[p(Y,{size:"default"},{default:g(()=>[x(u(c(F)("login.noAccount")),1)]),_:1}),p(I,{type:"primary",underline:"never",onClick:r[4]||(r[4]=e=>J("register"))},{default:g(()=>[x(u(c(F)("login.reg")),1)]),_:1})]),m("div",R,[m("div",A,[r[5]||(r[5]=m("div",{class:"divider-line"},null,-1)),m("span",z,u(c(F)("login.otherLoginMethods")),1),r[6]||(r[6]=m("div",{class:"divider-line"},null,-1))]),m("div",D,[p(k,null,{default:g(()=>[...r[7]||(r[7]=[m("div",{"text-20px":"",class:"i-svg:wechat"},null,-1)])]),_:1}),p(k,null,{default:g(()=>[...r[8]||(r[8]=[m("div",{"text-20px":"","cursor-pointer":"",class:"i-svg:qq"},null,-1)])]),_:1}),p(k,null,{default:g(()=>[...r[9]||(r[9]=[m("div",{"text-20px":"","cursor-pointer":"",class:"i-svg:github"},null,-1)])]),_:1}),p(k,null,{default:g(()=>[...r[10]||(r[10]=[m("div",{"text-20px":"","cursor-pointer":"",class:"i-svg:gitee"},null,-1)])]),_:1})])])])}}}),[["__scopeId","data-v-286c3c87"]]);export{F as default};
